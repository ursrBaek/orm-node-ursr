<form action="/entry" method="post" id="entryForm" onsubmit="return formCheck(event)">
  <div class="login-screen">
    <div class="login-body">
      <a href="index.html" class="login-logo">
        <img src="img/logo.svg" alt="Quick Chat" />
      </a>
      <h6>Welcome to Quick Chat App,<br />Create your account.</h6>
      <div class="field-wrapper mb-3">
        <input type="text" name="name" id="name" required autofocus />
        <div class="field-placeholder">이름</div>
      </div>
      <div class="field-wrapper mb-3">
        <input type="text" name="telephone" id="telephone" required />
        <div class="field-placeholder">전화번호</div>
      </div>
      <div class="field-wrapper">
        <input type="email" name="email" id="email" required />
        <div class="field-placeholder">이메일</div>
      </div>
      <div class="field-wrapper mb-3">
        <input type="text" maxlength="6" name="birth_date" id="birth_date" placeholder="6자 입력 ex) 980127" required />
        <div class="field-placeholder">생년월일</div>
      </div>
      <div class="field-wrapper">
        <input type="password" name="member_password" id="member_password" required />
        <div class="field-placeholder">비밀번호</div>
      </div>
      <div class="field-wrapper mb-3">
        <input type="password" id="password_confirm" required />
        <div class="field-placeholder">비밀번호 확인</div>
      </div>
      <div class="field-wrapper mb-3">
        <input type="file" name="profile_img_path" />
        <div class="field-placeholder">프로필 사진</div>
      </div>
      <p id="warningMsg" style="color: rgb(187, 0, 0)"></p>
      <div class="actions">
        <button type="submit" class="btn btn-primary ml-auto">Sign Up</button>
      </div>
    </div>
    <div class="login-footer">
      <span class="additional-link">Have an account? <a href="/login" class="btn btn-secondary">Login</a></span>
    </div>
  </div>
</form>
<script>
  const entryForm = document.getElementById('entryForm');
  const birth_dateInput = document.getElementById('birth_date');
  const passwordInput = document.getElementById('member_password');
  const passwordConfirmInput = document.getElementById('password_confirm');
  const warningMsgInput = document.getElementById('warningMsg');

  const formCheck = async (e) => {
    e.preventDefault();

    let warningMsg = '';

    if (isNaN(Number(birth_dateInput.value))) {
      warningMsg = '생년월일은 숫자 6자리로 입력해주세요.';
      birth_dateInput.value = '';
      birth_dateInput.focus();
    } else if (passwordInput.value !== passwordConfirmInput.value) {
      warningMsg = '비밀번호가 일치하지 않습니다.';
      passwordConfirmInput.value = '';
      passwordConfirmInput.focus();
    } else {
      entryForm.submit();
    }

    warningMsgInput.innerText = warningMsg;
  };
</script>

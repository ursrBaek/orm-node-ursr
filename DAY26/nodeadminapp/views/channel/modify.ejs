<!--우측 콘텐츠 헤더영역 -->
<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-10">
    <h2>채널 정보 관리</h2>
    <ol class="breadcrumb">
      <li>
        <a href="/">Home > </a>
      </li>
      <li>
        <a>채널 정보 관리 ></a>
      </li>
      <li class="active">
        <strong>수정</strong>
      </li>
    </ol>
  </div>
  <div class="col-lg-2"></div>
</div>

<!--우측 콘텐츠 영역 -->
<form action="/channel/modify/<%=channel.channel_id%>" method="post">
  <div class="wrapper wrapper-content">
    <div class="ibox-content m-b-sm border-bottom">
      <div class="row">
        <div class="col-sm-4">
          <div class="form-group">
            <label class="control-label">채널고유번호</label>
            <input type="text" class="form-control" name="channel_id" value="<%=channel.channel_id%>" readonly />
          </div>
        </div>
        <div class="col-sm-4">
          <div class="form-group">
            <label class="control-label">커뮤니티고유번호</label>
            <input type="text" class="form-control" name="community_id" value="<%=channel.community_id%>"  required />
          </div>
        </div>
        <div class="col-sm-4">
          <div class="form-group">
            <label class="control-label">채널분류코드</label>
            <input type="text" class="form-control" name="category_code" value="<%=channel.category_code%>"  required />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <div class="form-group">
            <label class="control-label">채널명</label>
            <input type="text" class="form-control" name="channel_name" value="<%=channel.channel_name%>"  required />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <div class="form-group">
            <label class="control-label">채널 설명</label>
            <input type="text" class="form-control" name="channel_desc" value="<%=channel.channel_desc%>"  required />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <div class="form-group">
            <label class="control-label">최대접속자 수</label>
            <input type="number" class="form-control" name="user_limit" value="<%=channel.user_limit%>"  required />
          </div>
        </div>
        <div class="col-sm-4">
          <div class="form-group">
            <label class="control-label" for="MobileNo">채널오픈상태</label>
            <select name="channel_state_code" class="form-control">
              <option value="1" <%= channel.channel_state_code === '1' ? 'selected' : '' %>>사용중</option>
              <option value="0" <%= channel.channel_state_code === '0' ? 'selected' : '' %>>사용안함</option>
            </select>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="form-group">
            <label class="control-label">대표이미지</label>
            <input type="file" class="form-control" name="channel_img_path" value="<%=channel.channel_img_path%>"  />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-3">
          <div class="form-group">
            <label class="control-label">등록자 아이디</label>
            <input type="text" class="form-control" name="reg_member_id" value="<%=channel.reg_member_id%>"  readonly />
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label class="control-label">등록일시</label>
            <input type="text" class="form-control" name="reg_date" value="<%=channel.reg_date%>"  readonly />
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label class="control-label">수정자 아이디</label>
            <input type="text" class="form-control" name="edit_member_id" value="<%=channel.edit_member_id%>"  readonly />
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label class="control-label">수정일자</label>
            <input type="text" class="form-control" name="edit_date" value="<%=channel.edit_date%>"  readonly />
          </div>
        </div>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary">저장</button>
        <button type="button" class="btn btn-danger" id="btnDelete">삭제</button>
        <a href="/channel/list" class="btn btn-info">목록</a>
      </div>
    </div>
  </div>
</form>

<script>
  $('#btnDelete').click(function () {
    if (confirm('정말로 삭제하시겠습니까?')) {
      // 사용자가 confirm창의 확인 버튼을 누르면 true가 반환되기 때문에
      // 확인 버튼 클릭시 실행해야하는 기능 구현
      location.href = '/channel/delete?cid=<%=channel.channel_id%>';
    } else {
      alert('삭제를 취소했습니다.');
    }
  });
</script>
